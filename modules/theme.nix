# ============================================================================== #
#                                                                                #
#   Theme — GTK, Qt, Cursor, Icons                                               #
#                                                                                #
# ============================================================================== #
#
#   ЧТО ЭТО?
#   ─────────────────────────────────────────────────────────────────────────────
#   Глобальные темы оформления для всех приложений.
#   Настраивается через Home Manager.
#
#   КОМПОНЕНТЫ:
#   • GTK — тема для Firefox, Nautilus, GNOME приложений
#   • Qt — тема для Dolphin, VLC, KDE приложений
#   • Курсор — системный курсор мыши
#   • Иконки — тема иконок в файловом менеджере
#
#   ТЕКУЩАЯ ТЕМА:
#   • Оформление: Adwaita Dark
#   • Иконки: Papirus Dark
#   • Курсор: Adwaita (24px)
#
# ============================================================================== #
{ config, pkgs, lib, ... }:

{
  # ══════════════════════════════════════════════════════════════════════════════
  # GTK — Тема для GTK приложений
  # ══════════════════════════════════════════════════════════════════════════════
  # Применяется к: Firefox, Nautilus, GNOME Settings, и др.
  gtk = {
    enable = true;  # Отключить: enable = false

    # ── Тема оформления ──────────────────────────────────────────────────────
    theme = {
      name = "Adwaita-dark";              # Название темы
      package = pkgs.gnome-themes-extra;  # Пакет с темой
    };

    # ── Тема иконок ──────────────────────────────────────────────────────────
    iconTheme = {
      name = "Papirus-Dark";              # Papirus — популярная тема иконок
      package = pkgs.papirus-icon-theme;
    };

    # ── Курсор для GTK ───────────────────────────────────────────────────────
    cursorTheme = {
      name = "Adwaita";
      size = 24;  # Размер курсора (24 — хорошо для HiDPI)
    };

    # ── Принудительно тёмная тема ────────────────────────────────────────────
    gtk3.extraConfig.gtk-application-prefer-dark-theme = true;
    gtk4.extraConfig.gtk-application-prefer-dark-theme = true;
  };

  # ══════════════════════════════════════════════════════════════════════════════
  # QT — Тема для Qt приложений
  # ══════════════════════════════════════════════════════════════════════════════
  # Применяется к: Dolphin, VLC, KDE приложения, и др.
  qt = {
    enable = true;  # Отключить: enable = false
    platformTheme.name = "adwaita";       # Использовать GTK тему
    style = {
      name = "adwaita-dark";              # Тёмный стиль
      package = pkgs.adwaita-qt;          # Пакет со стилем
    };
  };

  # ══════════════════════════════════════════════════════════════════════════════
  # CURSOR — Системный курсор мыши
  # ══════════════════════════════════════════════════════════════════════════════
  home.pointerCursor = {
    name = "Adwaita";
    package = pkgs.adwaita-icon-theme;
    size = 24;
    gtk.enable = true;  # Применить и для GTK приложений
  };
}
